<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.0">
    <ScriptPackage>
        <Script isActive="yes" isFolder="no">
            <name>Iocuns custom prompt tag example</name>
            <packageName></packageName>
            <script>--[[ Iocuns prompt aff thingy from http://forums.achaea.com/index.php?showtopic=39543&amp;view=findpost&amp;p=1283964, taken with permission ]]
--[[ to use in a custom prompt, use the @paracelsus_affs_customtag tag ]]
local aff_abbrev = {
  ablaze = &quot;abl&quot;,
  addiction = &quot;add&quot;,
  aeon = &quot;ae&quot;,
  anorexia = &quot;ano&quot;,
  agoraphobia = &quot;agor&quot;,
  asleep = &quot;asl&quot;,
  asthma = &quot;ast&quot;,
  blackout = &quot;&quot;,
  bound = &quot;bound&quot;,
  claustrophobia = &quot;clau&quot;,
  clumsiness = &quot;cl&quot;,
  confusion = &quot;con&quot;,
  darkshade = &quot;dark&quot;,
  deadening = &quot;dea&quot;,
  dementia = &quot;dem&quot;,
  disloyalty = &quot;disl&quot;,
  disrupt = &quot;disr&quot;,
  dissonance = &quot;disso&quot;,
  dizziness = &quot;diz&quot;,
  roped = &quot;rop&quot;,
  epilepsy = &quot;epi&quot;,
  fear = &quot;fear&quot;,
  frozen = &quot;frozen&quot;,
  generosity = &quot;gen&quot;,
  haemophilia = &quot;haem&quot;,
  hallucinations = &quot;hall&quot;,
  mildconcussion = &quot;h1&quot;,
  seriousconcussion = &quot;h2&quot;,
  heartseed = &quot;heart&quot;,
  hellsight = &quot;hell&quot;,
  hypersomnia = &quot;hypers&quot;,
  hypochondria = &quot;hypoch&quot;,
  impaled = &quot;impale&quot;,
  impatience = &quot;impat&quot;,
  justice = &quot;just&quot;,
  slashedthroat = &quot;lac1&quot;,
  laceratedthroat = &quot;lac2&quot;,
  crippledleftarm = &quot;la1&quot;,
  mangledleftarm = &quot;la2&quot;,
  mutilatedleftarm = &quot;la3&quot;,
  crippledleftleg = &quot;ll1&quot;,
  mangledleftleg = &quot;ll2&quot;,
  mutilatedleftleg = &quot;ll3&quot;,
  lethargy = &quot;let&quot;,
  loneliness = &quot;lon&quot;,
  madness = &quot;mad&quot;,
  masochism = &quot;maso&quot;,
  nausea = &quot;nau&quot;,
  pacifism = &quot;pac&quot;,
  paralysis = &quot;par&quot;,
  paranoia = &quot;paranoia&quot;,
  peace = &quot;pea&quot;,
  prone = &quot;pr&quot;,
  recklessness = &quot;reck&quot;,
  crippledrightarm = &quot;ra1&quot;,
  mangledrightarm = &quot;ra2&quot;,
  mutilatedrightarm = &quot;ra3&quot;,
  crippledrightleg = &quot;rl1&quot;,
  mangledrightleg = &quot;rl2&quot;,
  mutilatedleftleg = &quot;rl3&quot;,
  relapsing = &quot;scy&quot;,
  selarnia = &quot;sel&quot;,
  sensitivity = &quot;sen&quot;,
  shivering = &quot;shiv&quot;,
  shyness = &quot;shy&quot;,
  slickness = &quot;sli&quot;,
  stupidity = &quot;st&quot;,
  stuttering = &quot;stut&quot;,
  mildtrauma = &quot;t1&quot;,
  serioustrauma = &quot;t2&quot;,
  transfixed = &quot;transf&quot;,
  unknownany = &quot;?&quot;,
  unknownmental = &quot;?&quot;,
  vertigo = &quot;vert&quot;,
  voyria = &quot;voy&quot;,
  weariness = &quot;wea&quot;,
  webbed = &quot;web&quot;
}


function paracelsus_affs_customtag()
  if next(svo.affl) then
    local s = {&quot;&lt;IndianRed&gt;[&quot;}
    local isfirst = true
    for k,v in pairs(svo.affl) do
        if k == &quot;unknownany&quot; or k == &quot;unknownmental&quot; then
          s[#s+1] = (isfirst and &quot;&quot; or &quot; &quot;)..(&quot;?&quot;):rep(v.count)
          isfirst = false
        else
          s[#s+1] = (isfirst and &quot;&quot; or &quot; &quot;)..(aff_abbrev[k] or k)
          isfirst = false
        end
    end
    s[#s+1] = &quot;]&quot;
    return table.concat(s)
  else
    return &quot;&quot;
  end
end

svo.adddefinition(&quot;@paracelsus_affs_customtag&quot;, &quot;paracelsus_affs_customtag()&quot;)
</script>
            <eventHandlerList/>
        </Script>
    </ScriptPackage>
</MudletPackage>
